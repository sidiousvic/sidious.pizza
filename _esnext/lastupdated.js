(()=>{var l=t=>{throw new Error(t)},r=t=>e=>t??l(e);var i=t=>r(document.getElementById(t))(`ID ${t} not found.`);var s="We exceeded the rate limit exceeded calling GitHub, let's wait a while...";var a=(...t)=>e=>t.reduce((o,n)=>n(o),e);var d=t=>e=>Object.getOwnPropertyNames(t).reduce((o,n)=>(Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(t,n)),o),e);var c=t=>e=>(t(e),e);var m=t=>{throw new Error(t)};var p={repoUrl:"https://api.github.com/repos/sidiousvic/sidious.pizza",dateTimeFormat:new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),isDevMode:window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"},g=a(d(p),async t=>t.isDevMode?{pushed_at:new Date().toISOString()}:fetch(t.repoUrl).then(async e=>{let o=await e.json();return JSON.stringify(o).includes("rate limit")&&m(s),o}),c(async t=>i("last-updated-datetime").innerText=`${p.dateTimeFormat.format(new Date((await t)?.pushed_at||Date.now()))} Asia/Pacific (Tokyo)`));addEventListener("DOMContentLoaded",g);})();
