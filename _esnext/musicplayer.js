(()=>{addEventListener("DOMContentLoaded",()=>{let a=document.getElementById("music-player"),n=document.getElementById("seek-slider"),c=document.getElementById("volume-slider"),s=document.getElementById("trigger-playback"),x=document.getElementById("mute-icon"),r="play",d="unmute";s.innerHTML=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?'<span class="tag border venomous">Tap</span> to play':'Press <span class="tag border venomous">spacebar</span> to play';function g(e,o){r==="play"?(t.play(),requestAnimationFrame(u),r="pause",document.body.classList.add("venomous"),document.querySelector(".navbar-home").style.mixBlendMode="exclusion",s.innerHTML=`Press <span class="tag border venomous">${o}</span> to pause`):(t.pause(),r="play",document.body.classList.remove("venomous"),document.querySelector(".navbar-home").style.mixBlendMode="unset",s.innerHTML=`Press <span class="tag border venomous">${o}</span> to play`)}window.addEventListener("keydown",e=>{e.key===" "&&g(r,"spacebar")}),window.addEventListener("touchstart",e=>{g(r,"tap")}),x.addEventListener("click",()=>{d==="unmute"?(t.muted=!0,d="mute"):(t.muted=!1,d="unmute")});let p=e=>{e===n?a.style.setProperty("--seek-before-width",e.value/e.max*100+"%"):a.style.setProperty("--volume-before-width",e.value/e.max*100+"%")};n.addEventListener("input",e=>{p(e.target)}),c.addEventListener("input",e=>{p(e.target)});let t=document.querySelector("audio"),T=document.getElementById("duration"),y=document.getElementById("current-time"),b=document.getElementById("volume-output"),v=null,i=e=>{let o=Math.floor(e/60),m=Math.floor(e%60),L=m<10?`0${m}`:`${m}`;return`${o}:${L}`},E=()=>{T.textContent=i(t.duration)},f=()=>{n.max=Math.floor(t.duration)},l=()=>{let e=t.buffered.length?Math.floor(t.buffered.end(t.buffered.length-1)):void 0;a.style.setProperty("--buffered-width",`${e/n.max*100}%`)},u=()=>{n.value=Math.floor(t.currentTime),y.textContent=i(n.value),a.style.setProperty("--seek-before-width",`${n.value/n.max*100}%`),v=requestAnimationFrame(u)};t.readyState>0?(E(),f(),l()):t.addEventListener("loadedmetadata",()=>{E(),f(),l()}),t.addEventListener("progress",l),n.addEventListener("input",()=>{y.textContent=i(n.value),t.paused||cancelAnimationFrame(v)}),n.addEventListener("change",()=>{t.currentTime=n.value,t.paused||requestAnimationFrame(u)}),c.addEventListener("input",e=>{let o=e.target.value;b.textContent=o,t.volume=o/100})});})();
