<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vic Sidious</title>
    <link rel="stylesheet" href="/styles/styles.css">
    <link rel="preload" href="/fonts/Victor_Mono/static/VictorMono-Regular.ttf" as="font" type="font/ttf" crossorigin>
    <link rel="preload" href="/fonts/Instrument_Serif/InstrumentSerif-Regular.ttf" as="font" type="font/ttf" crossorigin>
    <link rel="preload" href="/fonts/DotGothic16/DotGothic16-Regular.ttf" as="font" type="font/ttf" crossorigin>
  </head>
  <body>
    <div class="page">
      <header class="site-header">
        <% const currentTitle = it.page?.data?.title || it.title || "VIC SIDIOUS"; %>
        <% const currentUrl = it.page?.data?.url || it.url || ""; %>
        <% const isHome = currentUrl === "/" || currentUrl === ""; %>
        <% const titleWords = (currentTitle || "").split(/\s+/).filter(Boolean); %>
        <% const fontCycle = ["title-part--goth", "title-part--bold", "title-part--serif"]; %>
        <div class="site-title">
          <a href="/" aria-label="Vic Sidious home">
            <img src="/images/vic-mtv-clay-logo.png" alt="Site logo" loading="eager" decoding="async" class="site-logo">
          </a>
          <a href="/">
            <% if (isHome) { %>
            <% } else { %>
              <% titleWords.forEach((word, idx) => { %>
                <span class="title-part <%= fontCycle[idx % fontCycle.length] %>"><%= word %></span>
              <% }); %>
              <sup class="title-part title-part--tm">™️</sup>
            <% } %>
          </a>
        </div>
        <div class="site-actions">
          <nav class="site-nav full-nav">
            <a href="/posts">Archive</a>
            <a href="/observations">Observations</a>
            <a href="/projects">Projects</a>
            <a href="/about">About</a>
            <a href="/meta">Meta</a>
          </nav>
          <a href="#" class="menu-trigger" aria-controls="menu-overlay" aria-expanded="false" aria-label="Open menu">
            <img src="/images/menu-pine.png" alt="" width="22" height="22" aria-hidden="true" decoding="async">
          </a>
          <button class="theme-toggle" type="button" aria-pressed="false" aria-label="Toggle theme">
            <img src="/images/menu-eyes.gif" alt="" width="22" height="22" aria-hidden="true" decoding="async">
          </button>
        </div>
      </header>
      <main class="shell <%= (it.shellClass || it.page?.data?.shellClass || "").trim() %>">
        <%~ content %>
      </main>
      <footer class="site-footer" aria-label="Site footer">
        <span class="footer-meta"><strong class="footer-brand">© SIDIOUSWARE 2026 </strong>障害こそが道だ</span>
      </footer>
    </div>
    <div id="menu-overlay" class="menu-overlay" aria-hidden="true">
      <div class="menu-sheet">
        <nav class="menu-list" aria-label="Overlay navigation">
          <a href="/posts">Archive</a>
          <a href="/observations">Observations</a>
          <a href="/projects">Projects</a>
          <a href="/about">About</a>
          <a href="/meta">Meta</a>
        </nav>
      </div>
    </div>
    <script type="module" src="/scripts/site.js?v=2"></script>
  </body>
</html>
