"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[456],{40604:function(t,e,n){n.d(e,{$5:function(){return C},At:function(){return w},FY:function(){return P},SL:function(){return A},el:function(){return j},kx:function(){return y},lp:function(){return b},yg:function(){return x},zT:function(){return k}});var i=n(73750),r=n(54944),l=n(99773),o=n(74101),a=n(66206),s=n(86393),c=n(83812),u=n(610),d=n(79122),f=n(81695),h=n(7653),g=n(82054),p=n(27222),v=n(8026);let m=o.publicRuntimeConfig.apiUrl.replace("v1","v2"),_=t=>new URLSearchParams(t).toString();function w(t){let e=(0,c.t)();return(0,g.ZP)(t||null,t=>e.gif(t).then(t=>t.data))}function b(t,e,n){var i;let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,{adServerData:s,adClientData:c}=(0,h.useContext)(u.Z),d=y(),f=!r&&!!n&&((0,l.vL)(n,s)&&"gifs"===d&&(null===(i=(0,l.o4)(c,n))||void 0===i?void 0:i.gif)===void 0&&!t.some(t=>t.id===e)&&o<t.length||(0,l.o4)(c,n)&&"gifs"===d);return(0,h.useMemo)(()=>{let n=(0,a.ZP)({id:e},{width:250,height:250});return f?(0,v.J2)(t,o,n):t},[t,f,o,e])}function x(t,e,n){let{adClientData:i}=(0,h.useContext)(u.Z);return(0,h.useMemo)(()=>{var r;let o=null===(r=(0,l.o4)(i,n))||void 0===r?void 0:r.gif;if(o){let n=t.findIndex(t=>t.id===e);if(-1!==n)return(0,v.i9)(t,n,o)}return t},[t,e,n,i])}function y(){var t;let e=(0,f.useParams)(),n=null===(t=(0,f.useSearchParams)().get("type"))||void 0===t?void 0:t.toLowerCase();if(i.qg.includes(n))return n;let[,r]=e.term?(0,s.Rr)(e.term):[];return i.qg.includes(r)?r:"gifs"}function k(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,p.Z)(t?(0,r.G)(t):null)}function j(t){return(0,p.Z)((0,r.G)(t.id),null,{fallback:{[(0,r.G)(t.id)]:t}})}let A=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,g.ZP)("".concat(m,"trending/searches?").concat(_({...e,q:t,api_key:(0,d.vl)()})))},C=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,d.vl)();return(0,g.ZP)(t?"".concat(o.publicRuntimeConfig.apiUrl,"channels/search?").concat(_({...e,q:t.replace("@",""),api_key:n})):null)},P=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,g.ZP)("".concat(o.publicRuntimeConfig.apiUrl,"gifs/search/tags?").concat(_({...e,q:t,api_key:(0,d.vl)()})))}},73750:function(t,e,n){n.d(e,{qg:function(){return i}});let i=["gifs","stickers","clips"]},54944:function(t,e,n){n.d(e,{G:function(){return r}});var i=n(74101);function r(t){return"".concat(i.df,"/api/v4/channels/").concat(t)}n(79122)},99773:function(t,e,n){n.d(e,{En:function(){return h},o4:function(){return u},cg:function(){return s},vL:function(){return d},CA:function(){return c},Mp:function(){return f}});var i=n(79122),r=n(2159),l=n(74101);let o=t=>{switch(t){case 1:return n.e(6373).then(n.t.bind(n,46373,19));case 2:return n.e(5682).then(n.t.bind(n,35682,19));case 3:return n.e(5491).then(n.t.bind(n,5491,19));case 4:return n.e(3266).then(n.t.bind(n,13266,19));case 5:return n.e(1506).then(n.t.bind(n,31506,19));case 6:return n.e(5249).then(n.t.bind(n,65249,19));default:throw Error("No test response for value ".concat(t))}},a=async t=>{try{let{default:e}=await o(t);console.log("ad test ".concat(e.description));let n=new Map,i=t=>{if(n.has(t))return n.get(t);let e=(async()=>{let e=[];if(t.gif_id){let n=async()=>{let e=await new r.sF(l.publicRuntimeConfig.apiKey).gif(t.gif_id);t.gif=e.data};e.push(n())}t.subdecisions&&Array.isArray(t.subdecisions)&&e.push(...t.subdecisions.map(i)),await Promise.all(e)})();return n.set(t,e),e},a=Object.values((null==e?void 0:e.decisions)||{}).filter(t=>null!=t).map(i);return await Promise.all(a),[e]}catch(e){return console.error("Failed to load test".concat(t,".json from ad-mocks"),e),[,"Failed to load test".concat(t,".json: ").concat(e)]}},s={"/gifs":"gif_details_grid_0","/search":"search_results_grid_0","/":"home_grid_0"},c=t=>{let e=(null==t?void 0:t.decisions)||{};return Object.keys(e).some(t=>null!==e[t])},u=(t,e)=>{var n;return e?null==t?void 0:null===(n=t.decisions)||void 0===n?void 0:n["search_results_video_spotlight"===e?"search_results_video_spotlight":e]:void 0},d=(t,e)=>!!u(e,t),f=(t,e)=>({decisions:{...(null==t?void 0:t.decisions)||{},...(null==e?void 0:e.decisions)||{}}}),h=async t=>{let{searchParams:e,views:n,rating:r="unrated",keywords:o=[],accessToken:s="",cookie:c="",headers:u}=t,d={keywords:o,rating:r,views:n,platform:"web",testing:"true"===(0,i.ej)("ads_dev_network",c),use_mock:"true"===(0,i.ej)("ads_use_mock",c)},f=parseInt((0,i.kp)("ad_test",e)||"");if(!isNaN(f))return await a(f);if(l.publicRuntimeConfig.isPlaywright)return[,"Running Playwright test"];let h="".concat(l.df,"/api/v2/ads/");try{let t={"content-type":"application/json",...s?{authorization:"Token ".concat(s)}:{},cookie:c,"X-CSRFToken":(0,i.ej)("csrftoken",c)};u&&(t={...t,...u});let e=await fetch(h,{method:"POST",body:JSON.stringify(d),headers:t});if(e.ok)try{let t=await e.json(),n=t=>{try{let e=new URL(t);return e.searchParams.has("ap")||e.searchParams.append("ap","1"),e.toString()}catch(n){let e=t.includes("?");return/[?&]ap=1(?!\d)/.test(t)?t:"".concat(t).concat(e?"&":"?","ap=1")}},i=t=>{if(!t||!t.images)return;let e=t.images;Object.values(e).forEach(t=>{t&&"object"==typeof t&&Object.keys(t).forEach(e=>{let i=t[e];"string"==typeof i&&/^https?:\/\//.test(i)&&("url"===e?t.url=n(i):t[e]=n(i))})})},r=t=>{if(!t||!t.video||!t.video.assets)return;let e=t.video.assets;Object.values(e).forEach(t=>{t&&"object"==typeof t&&Object.keys(t).forEach(e=>{let i=t[e];"string"==typeof i&&/^https?:\/\//.test(i)&&(t[e]=n(i))})})},l=t=>{if(t){if(t.gif){if(t.click_url){var e,n;let i=t.gif;i.bottle_data=null!==(e=i.bottle_data)&&void 0!==e?e:{},i.bottle_data.tdata=null!==(n=i.bottle_data.tdata)&&void 0!==n?n:{},i.bottle_data.tdata.click_out_url=t.click_url}i(t.gif),"video"===t.gif.type&&r(t.gif)}(t.subdecisions||[]).forEach(l)}};return Object.values((null==t?void 0:t.decisions)||{}).forEach(t=>l(t||void 0)),[t]}catch(t){return console.error("Failed to parse ad endpoint response as JSON",t),[,"Status:".concat(e.status," ").concat(t)]}let n="";try{n=await e.text()}catch(t){}return[,"Status:".concat(e.status," ").concat(n)]}catch(t){return console.error(t),[,t]}}},66206:function(t,e,n){n.d(e,{eh:function(){return o}});var i=n(22942),r=n.n(i);let l=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return["fixed_width","downsized","fixed_height_small_still","fixed_width_downsampled","downsized_large","original","original_still","fixed_height_still","fixed_width_small","fixed_height_downsampled","looping","downsized_small","fixed_width_small_still","downsized_medium","preview","fixed_height","fixed_width_still","fixed_height_small","downsized_still"].reduce((i,r)=>(i[r]={url:n||"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",width:t,height:e},i),{})},o=t=>!!t[a],a=Symbol("isPlaceholder");e.ZP=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return{[a]:!0,bitly_url:"",create_datetime:"",embed_url:"",id:r()("placeholder"),images:{...l(null==e?void 0:e.width,null==e?void 0:e.height,null==e?void 0:e.src)},import_datetime:"",is_anonymous:!1,is_community:!1,is_featured:!1,is_hidden:!1,is_indexable:!1,is_realtime:!1,is_removed:!1,is_sticker:!1,rating:"g",slug:"",tags:[],trending_datetime:"",update_datetime:"",username:"",url:"",...t}}},86393:function(t,e,n){n.d(e,{Rr:function(){return l}}),n(81695);var i=n(14683),r=n(61752);let l=t=>{var e;let n=(0,r.eC)(t),l=(e=n,/(^|-)(transparents?|stickers?)(-|$)/.test(e)?"stickers":e.endsWith("-clips")||e.endsWith("-with-sound")?"clips":"gifs");return[n=(0,i.Kx)(n).replace(/-/g," ").trim(),l]}},83812:function(t,e,n){n.d(e,{t:function(){return o}});var i=n(79122),r=n(2159),l=n(7653);let o=()=>{let t=(0,i.vl)();return(0,l.useMemo)(()=>new r.sF(t),[t])}},610:function(t,e,n){let i=(0,n(7653).createContext)({htlAds:[],banner:void 0,isAnyAdEnabled:()=>!1,isHTLAdEnabled:()=>!1,pageName:void 0,adClientData:void 0,adServerData:void 0});e.Z=i},6928:function(t,e,n){let i=(0,n(7653).createContext)({user:{},hasFetchedUser:!1});e.Z=i},79122:function(t,e,n){n.d(e,{B5:function(){return d},Ey:function(){return u},Hn:function(){return o},OR:function(){return h},W5:function(){return p},dr:function(){return a},ej:function(){return s},kp:function(){return c},oH:function(){return f},vl:function(){return v},xl:function(){return g}});var i=n(74101),r=n(53603),l=n(7653);let o=t=>"/".concat(t.replace(/^(?:\/\/|[^\/]+)*\//,"")),a=(t,e)=>{e.preventDefault(),e.stopPropagation(),location.href=o(t.url)};function s(t,e){if(!e){if("undefined"==typeof document)return"";e=document.cookie}let n=e.split(";");for(let e=0;e<n.length;e++){let i=n[e].trim();if(i.startsWith(t+"="))return i.substring(t.length+1)}return""}function c(t,e){if(!e){if("undefined"==typeof document)return null;e=new URLSearchParams(location.search)}return e.get(t)}function u(t){return{method:"post",body:t?JSON.stringify(t):void 0,headers:{"Content-Type":"application/json","X-CSRFToken":s("csrftoken")}}}let d=(t,e)=>(Object.entries(e).forEach(e=>{let[n,i]=e;t.searchParams.append(n,i)}),t),f=t=>t.replace(/ /g,"-");function h(t){return t.split("-").pop()}function g(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{method:"POST",headers:{Accept:"application/json","Content-Type":e?"multipart/form-data":"application/json","X-CSRFToken":t,"X-Requested-With":"XMLHttpRequest",credentials:"same-origin"}}}let p=(t,e)=>{let n;let{results:i=[]}=t,r=i.length,l=1/0;if(t.next)try{let i=new URL(t.next),l=new URLSearchParams(i.search).get("offset");if(l)r=parseInt(l,10)-e,n=!0;else throw"no offset"}catch(t){console.error("next url specified, but not parseable. error: ".concat(t))}return t.previous&&(0===i.length||!t.next)&&(l=e),{data:i,pagination:{count:r,total_count:l,offset:e,hasMoreGifs:n},meta:{msg:"",response_id:"",status:200}}};function v(){let{deviceType:t}=(0,l.useContext)(r.default);return"mobile"===t?i.publicRuntimeConfig.mobileApiKey:i.publicRuntimeConfig.apiKey}},43036:function(t,e,n){n.d(e,{JO:function(){return u}});var i=n(27573),r=n(84390),l=n(5974),o=n(88223);let a=l.ZP.svg.withConfig({componentId:"sc-1f039a7e-0"})(["fill:white;height:100%;"]),s=l.ZP.div.withConfig({componentId:"sc-1f039a7e-1"})(["display:flex;width:100%;height:27px;",""],(0,o.gv)((0,l.iv)(["width:unset;height:38px;cursor:pointer;"]))),c=l.ZP.svg.withConfig({componentId:"sc-1f039a7e-2"})(["display:block;height:100%;width:21px;margin-right:6px;flex-shrink:0;.shadow{fill:#000;enable-background:new;opacity:0.4;}",""],(0,o.gv)((0,l.iv)(["width:28px;"]))),u=()=>(0,i.jsx)(c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 35",children:(0,i.jsxs)("g",{fillRule:"evenodd",clipRule:"evenodd",children:[(0,i.jsx)("path",{fill:r.Xd,d:"M0 3h4v29H0z"}),(0,i.jsx)("path",{fill:r.C2,d:"M24 11h4v21h-4z"}),(0,i.jsx)("path",{fill:r.mW,d:"M0 31h28v4H0z"}),(0,i.jsx)("path",{fill:r._K,d:"M0 0h16v4H0z"}),(0,i.jsx)("path",{fill:r.AZ,d:"M24 8V4h-4V0h-4v12h12V8"}),(0,i.jsx)("path",{className:"shadow",d:"M24 16v-4h4M16 0v4h-4"})]})}),d=()=>(0,i.jsx)(a,{viewBox:"0 0 128 36",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("g",{children:(0,i.jsx)("g",{children:(0,i.jsx)("path",{d:"m22.6,12c-2,-1.9 -4.4,-2.4 -6.2,-2.4c-4.4,0 -7.3,2.6 -7.3,8c0,3.5 1.8,7.8 7.3,7.8c1.4,0 3.7,-0.3 5.2,-1.4l0,-3.5l-6.9,0l0,-6l13.3,0l0,12.1c-1.7,3.5 -6.4,5.3 -11.7,5.3c-10.7,0 -14.8,-7.2 -14.8,-14.3c0,-7.1 4.7,-14.4 14.9,-14.4c3.8,0 7.1,0.8 10.7,4.4l-4.5,4.4zm9.1,19.2l0,-27.2l7.6,0l0,27.2l-7.6,0zm20.1,-7.4l0,7.3l-7.7,0l0,-27.1l13.2,0c7.3,0 10.9,4.6 10.9,9.9c0,5.6 -3.6,9.9 -10.9,9.9l-5.5,0zm0,-6.5l5.5,0c2.1,0 3.2,-1.6 3.2,-3.3c0,-1.8 -1.1,-3.4 -3.2,-3.4l-5.5,0l0,6.7zm36.7,13.9l0,-10.3l-9.8,0l0,10.3l-7.7,0l0,-27.2l7.7,0l0,10.3l9.8,0l0,-10.3l7.6,0l0,27.2l-7.6,0zm24.2,-17.9l5.9,-9.3l8.7,0l0,0.3l-10.8,16l0,10.8l-7.7,0l0,-10.8l-10.3,-16l0,-0.3l8.7,0l5.5,9.3z",id:"svg_2"})})})});e.ZP=t=>{let{onClick:e=()=>location.href="/",className:n}=t;return(0,i.jsxs)(s,{onClick:e,className:n,children:[(0,i.jsx)(u,{}),(0,i.jsx)(d,{})]})}}}]);
//# sourceMappingURL=456-c0f4441e6d5f7610.js.map